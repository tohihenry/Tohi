/* Pulse Animation with softer colors */
@keyframes pulse {
    0% { transform: scale(1); background: transparent; }
    25% { transform: scale(1.05); background: rgba(200, 200, 200, 0.3); }
    50% { transform: scale(1.1); background: rgba(100, 150, 255, 0.4); }
    75% { transform: scale(1.05); background: rgba(200, 200, 200, 0.3); }
    100% { transform: scale(1); background: transparent; }
}

.image-container {
    position: relative;
    display: inline-block;
}

.clickable-area {
    position: absolute;
    background: transparent;
    cursor: pointer;
    pointer-events: auto; /* Ensure clickability */
    border: 1px solid red; /* Debugging: Add a red border to see the shape */
}

/* Initial load animation - now just a placeholder for JavaScript */
a.clickable-area.animate-on-load {
    animation: none; /* Remove the initial animation */
}

/* Recurring pulse animation for linked areas */
a.clickable-area.pulse-ongoing {
    animation: pulse 1.5s ease-in-out 0s infinite; /* Loops every 1.5s with no initial delay */
}

a.clickable-area:hover {
    animation: pulse 1s ease-in-out infinite;
}

/* Specific styling for polygonal areas */
.clickable-area.poly-nzcba {
    clip-path: polygon(826px 93px, 825px 205px, 859px 227px, 893px 208px, 893px 93px);
    -webkit-clip-path: polygon(826px 93px, 825px 205px, 859px 227px, 893px 208px, 893px 93px); /* Safari */
}

/* Specific styling for circular areas */
.clickable-area.circle-lbp {
    clip-path: circle(38px at 862px 294px);
    -webkit-clip-path: circle(38px at 862px 294px); /* Safari */
}

/* Specific styling for polygonal areas (The Collective) */
.clickable-area.poly-the-collective {
    clip-path: polygon(1044px 194px, 1029px 185px, 1016px 174px, 1004px 173px, 988px 146px, 978px 152px, 979px 170px, 972px 166px, 966px 169px, 968px 179px, 974px 192px, 977px 203px, 980px 213px, 977px 226px, 975px 240px, 972px 249px, 969px 262px, 970px 273px, 970px 285px, 973px 297px, 975px 309px, 976px 320px, 978px 332px, 970px 344px, 968px 358px, 963px 372px, 958px 385px, 955px 393px, 944px 417px, 942px 508px, 1245px 508px, 1245px 432px, 1157px 432px, 1157px 386px, 1150px 370px, 1145px 358px, 1139px 344px, 1131px 328px, 1126px 317px, 1131px 305px, 1138px 314px, 1152px 325px, 1167px 330px, 1188px 334px, 1202px 330px, 1213px 319px, 1221px 310px, 1199px 314px, 1169px 304px, 1145px 295px, 1131px 296px, 1112px 275px, 1092px 269px, 1074px 273px, 1063px 288px, 1060px 308px, 1045px 305px, 1029px 306px, 1033px 289px, 1037px 274px, 1033px 257px, 1027px 242px, 1025px 227px, 1028px 213px, 1035px 202px);
    -webkit-clip-path: polygon(1044px 194px, 1029px 185px, 1016px 174px, 1004px 173px, 988px 146px, 978px 152px, 979px 170px, 972px 166px, 966px 169px, 968px 179px, 974px 192px, 977px 203px, 980px 213px, 977px 226px, 975px 240px, 972px 249px, 969px 262px, 970px 273px, 970px 285px, 973px 297px, 975px 309px, 976px 320px, 978px 332px, 970px 344px, 968px 358px, 963px 372px, 958px 385px, 955px 393px, 944px 417px, 942px 508px, 1245px 508px, 1245px 432px, 1157px 432px, 1157px 386px, 1150px 370px, 1145px 358px, 1139px 344px, 1131px 328px, 1126px 317px, 1131px 305px, 1138px 314px, 1152px 325px, 1167px 330px, 1188px 334px, 1202px 330px, 1213px 319px, 1221px 310px, 1199px 314px, 1169px 304px, 1145px 295px, 1131px 296px, 1112px 275px, 1092px 269px, 1074px 273px, 1063px 288px, 1060px 308px, 1045px 305px, 1029px 306px, 1033px 289px, 1037px 274px, 1033px 257px, 1027px 242px, 1025px 227px, 1028px 213px, 1035px 202px); /* Safari */
        }

        /* Custom tooltip (Instant) */
        .clickable-area::after {
            content: attr(data-title);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            font-family: Candara, sans-serif;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.1s ease-in-out;
            z-index: 10;
        }

        .clickable-area:hover::after {
            opacity: 1;
        }

        img {
            max-width: 100%;
            height: auto;
            position: relative;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <!-- Image without map reference -->
        <img src="https://i.imgur.com/2K8nxOD.png" alt="Tohi Henry - Signature Block">

        <!-- Clickable areas as divs with fallbacks -->
        <a href="https://qrco.de/bfDXap" target="_blank" class="clickable-area" style="top: 1px; left: 1px; width: 120px; height: 120px;" data-title="VR Card"></a>
        <a href="tel:02108555654" target="_blank" class="clickable-area" style="top: 255px; left: 471px; width: 224px; height: 41px;" data-title="Phone"></a>
        <a href="mailto:tohi@henare.co" target="_blank" class="clickable-area" style="top: 307px; left: 472px; width: 224px; height: 39px;" data-title="Email"></a>
        <a href="https://henarecollective.co.nz/coming-soon" target="_blank" class="clickable-area" style="top: 353px; left: 472px; width: 341px; height: 38px;" data-title="Website"></a>
        <a href="https://www.google.com/search?q=northland+whangarei" target="_blank" class="clickable-area" style="top: 401px; left: 472px; width: 294px; height: 37px;" data-title="Service Area"></a>
        <a href="https://www.nzcb.nz/businesses/henare-construction-limited/" target="_blank" class="clickable-area poly-nzcba" style="top: 93px; left: 825px; width: 68px; height: 134px;" data-title="NZCBA"></a>
        <a href="https://kete-lbp.mbie.govt.nz/practitioner/?id=607e441a-4993-e911-9e2c-005056ae0567" target="_blank" class="clickable-area circle-lbp" style="top: 256px; left: 824px; width: 76px; height: 76px;" data-title="LBP"></a>
        <a href="https://henarecollective.co.nz/coming-soon" target="_blank" class="clickable-area poly-the-collective" style="top: 146px; left: 988px; width: 257px; height: 362px;" data-title="The Collective"></a>
        <div class="clickable-area" style="top: 475px; left: 862px; width: 51px; height: 45px;" data-title="We Accept BTC"></div>
        <div class="clickable-area" style="top: 475px; left: 721px; width: 138px; height: 45px;" data-title="Coming Soon"></div>
        <div class="clickable-area" style="top: 150px; left: 81px; width: 330px; height: 330px; border-radius: 50%;" data-title="Hi"></div>
        <div class="clickable-area" style="top: 547px; left: 865px; width: 119px; height: 66px;" data-title="Henare Construction - Website Coming Soon"></div>
        <div class="clickable-area" style="top: 545px; left: 991px; width: 120px; height: 70px;" data-title="Henare Roofing and Scaffolding - Website Coming Soon"></div>
        <div class="clickable-area" style="top: 545px; left: 1120px; width: 120px; height: 76px;" data-title="Henare Electrical - Website Coming Soon"></div>
        <a href="https://henarestrategic.co.nz/coming-soon" target="_blank" class="clickable-area" style="top: 544px; left: 733px; width: 126px; height: 74px;" data-title="Henare Strategic"></a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const linkAreas = document.querySelectorAll("a.clickable-area");

            // Function to start the recurring pulse
            function startRecurringPulse() {
                linkAreas.forEach(area => {
                    area.classList.add("pulse-ongoing");
                });
            }

            // Delay the initial pulse by 2 seconds, then start recurring every 5 seconds
            setTimeout(() => {
                startRecurringPulse(); // Start the pulse after 2 seconds

                // Set up recurring pulses every 5 seconds (adjust this value as needed)
                setInterval(() => {
                    // Remove and reapply the pulse-ongoing class to restart the animation
                    linkAreas.forEach(area => {
                        area.classList.remove("pulse-ongoing");
                        // Use a small delay before reapplying to ensure the animation restarts
                        setTimeout(() => {
                            area.classList.add("pulse-ongoing");
                        }, 50); // Small delay to reset the animation
                    });
                }, 5000); // Repeat every 5 seconds (adjust to e.g., 3000 for 3 seconds, 7000 for 7 seconds, etc.)
            }, 2000); // Initial 2-second delay before starting

            // Disable default title tooltip behavior for all clickable areas
            const allAreas = document.querySelectorAll(".clickable-area");
            allAreas.forEach(area => {
                area.removeAttribute("title");
            });

            // Debugging: Log to console to confirm JavaScript is running
            console.log("Script loaded successfully for clickable areas");
        });
    </script>
</body>
</html>
